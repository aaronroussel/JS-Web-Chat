<!doctype html>
<html>
    <head>
        <link rel="stylesheet" type="text/css" />
        <title>Tools List</title>
    </head>
    <body>
        <h2></h2>
        <div id="toolsList"></div>

        <script>
            fetch("/tools")
                .then((response) => {
                    if (!response.ok) {
                        throw new Error("Network response was not ok");
                    }
                    return response.json();
                })
                .then((data) => {
                    const listContainer = document.getElementById("toolsList");
                    data.forEach((tool) => {
                        const item = document.createElement("div");
                        item.innerHTML = `<strong>${tool.part}</strong> - ${tool.price} - ${tool.descr} - ${tool.partid}`;
                        listContainer.appendChild(item);
                    });
                })
                .catch((error) => {
                    console.error("Error fetching tools:", error);
                    document.getElementById("toolsList").innerText =
                        "Failed to load tools.";
                });
        </script>
    </body>
</html>
